{% extends "league/game_action_base.html" %}

{% load static crispy_forms_filters i18n %}

{% block head %}
    {{ block.super }}
    <script type="text/javascript" src="{% static "flatpickr/flatpickr.min.js" %}"></script>
    <script type="text/javascript" src="{% static "flatpickr/pl.min.js" %}"></script>
    <link href="{% static "flatpickr/flatpickr.min.css" %}" rel="stylesheet">
{% endblock %}

{% block page_title %}{% translate "Zmiana Terminu" %}{% endblock %}

{% block breadcrumb %}
    {% translate "Zmiana Terminu" %}
{% endblock %}

{% block subcontent %}
    <p class="alert alert-info">
        {% blocktrans trimmed %}
            <strong>Uwaga!</strong> Wprowadź nowy termin gry, tylko jeżeli wcześniej ustailłeś jego zmiane z
            przeciwnikiem. Nowy termin nie może przekraczać daty końca sezonu. Twój przeciwnik zostanie
            poinformowany o zmianie drogą mailową.
        {% endblocktrans %}
    </p>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-success">{% translate "Zapisz" %}</button>
    </form>
    <script type="text/javascript">
        flatpickr('#id_date', {
            enableTime: true,
            locale: 'pl',
            minDate: "{{ object.min_date | date:"Y-m-d" }}",
            maxDate: "{{ object.max_date | date:"Y-m-d" }}",
        });
    </script>
{% endblock %}
