{% extends "base.html" %}

{% load static %}

{% block page_title %}Internetowa Go Liga O!{% endblock %}

{% block head %}
    <meta name="description"
          content="IGLO jest koleżeńską Ligą dla entuzjastów gry Go. Ma na celu budowanie pozytywnych relacji między graczami i zwiększeniu poziomu ich gry. To okazja do regularnego grania dłuższych gier oraz uzyskiwania komentarzy od silnych graczy. Dzięki czemu motywuje do rozwoju i pogłębianiu wiedzy o Go.">
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col">
            <div class="card text-center mb-3">
                <div class="card-body">
                    <h1 class="card-title">Internetowa Go Liga O!</h1>
                    <p class="card-text">IGLO jest koleżeńską Ligą dla entuzjastów gry Go. Ma na celu budowanie
                        pozytywnych relacji między graczami i zwiększeniu poziomu ich gry. To okazja do regularnego
                        grania dłuższych gier oraz uzyskiwania komentarzy od silnych graczy. Dzięki czemu motywuje do
                        rozwoju i pogłębiania wiedzy o Go.</p>
                    {% if not user.is_authenticated %}
                        <p class="card-text">Każdy gracz może znaleźć grupę odpowiadającą jego poziomowi, dlatego nie
                            czekaj tylko dołącz do nas!</p>
                        <a href="{% url "accounts:registration" %}" class="btn btn-success">Zapisz się!</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="alert alert-info">
                <h4>Sezon #14</h4>
                Kolejny sezon IGLO rozpocznie się <strong>3 stycznia 2022</strong>. Nowych graczy zachęcamy do rejestracji, a aktualnym przypominamy o <strong>konieczności odpowiedniego ustawienia opcji <i>"Dołącz Automatycznie"</i></strong> w ustawieniach swojego profilu. Zaznaczenie tej opcji spowoduje dołączenie do kolejnego sezonu, jej brak - rezygnacje z dalszej gry.
            </div>
        </div>
    </div>
    <div class="row">
        {% if latest_season %}
            <div class="col">
                <div class="card mb-3">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Aktualny sezon</span>
                        <span class="badge season-state--{{ latest_season.state }} ms-2">{{ latest_season.get_state_display | upper }}</span>
                    </div>
                    <div class="card-body">
                        <h2><a href="{{ latest_season.get_absolute_url }}">Sezon #{{ latest_season.number }}</a>
                        </h2>
                        <p class="text-muted">{{ latest_season.start_date }} - {{ latest_season.end_date }}</p>
                        <h5>Grupy</h5>
                        <div>
                            {% for group in latest_season.groups.all %}
                                <a href="{{ group.get_absolute_url }}"
                                   class="btn btn-primary mb-3" style="min-width: 40px">{{ group.name }}</a>
                            {% endfor %}
                        </div>
                        <p>Rozegranych gier: {{ latest_season.played_games }} / {{ latest_season.all_games }}</p>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar"
                                 style="width: {{ latest_season.games_progress }}%"
                                 aria-valuenow="{{ latest_season.games_progress }}"
                                 aria-valuemin="0" aria-valuemax="100">
                                {% if latest_season.games_progress %}{{ latest_season.games_progress }}%{% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
        <div class="col-12 col-md-6 mb-3">
            <div class="card h-100">
                <div class="card-header">Zasady</div>
                <div class="card-body">
                    <p>Skrócone zasady IGLO:</p>
                    <ul>
                        <li>Jedna gra tygodniowo z domyślnym terminem gry.</li>
                        <li>Minimalny czas gry to 30m+3x30. Zalecany 40m+3x30. Zachęcamy do przedłużenia czasu.</li>
                        <li>Gracz, któremu wyznaczony termin nie odpowiada, musi grę przełożyć.</li>
                        <li>Gramy na OGS (preferowany serwer) lub KGS.</li>
                    </ul>
                    <p>Więcej informacji znajdziesz w <a href="{% url "rules" %}">regulaminie</a>.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 mb-3">
            <div class="card h-100">
                <div class="card-header">Wsparcie</div>
                <div class="card-body">
                    <p>Udział w IGLO jest całkowicie darmowy! Pamiętaj jednak, że aby opłacić wykłady i komentarze
                        korzystamy ze wsparcia naszych patronów. Jeśli również chcesz brać udział w rozwoju Ligi i
                        wspierać jej dalszą rozbudowę zachęcamy do dołączenia!</p>
                    <p>Co jesteśmy w stanie zdziałać dzięki Twojemu wsparciu:</p>
                    <ul>
                        <li>Podpisujemy umowy z Nauczycielami, dzięki czemu możesz korzystać z profesjonalnych wykładów
                            i komentarzy dostosowanych do każdej z grup (więcej w sekcji wykłady).
                        </li>
                        <li>Opłacamy serwer i domenę strony internetowej, dlatego każdy gracz posiada własne konto,
                            dzięki któremu może w łatwy sposób obsługiwać swoje gry.
                        </li>
                        <li>Jesteśmy w stanie zapewnić niezbędną obsługę prawną i księgową.</li>
                    </ul>
                    <p>Wystarczy naprawdę niewiele, a dzięki temu możemy działać szybciej i sprawniej.</p>
                    <p> Wpłat można dokonywać na:</p>
                    <div class="d-flex justify-content-center">
                        <a href="https://patronite.pl/iglo" target="_blank" class="btn btn-primary me-2">Patronite
                            (PLN)</a>
                        <a href="https://www.patreon.com/igloooo" target="_blank" class="btn btn-primary">Patreon
                            (EUR)</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
